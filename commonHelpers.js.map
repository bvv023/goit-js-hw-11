{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImage(query) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const parameters = new URLSearchParams({\n    key: '43225826-209ae09ba096a17ea4e8a3ec3',\n    q: query,\n    lang: 'cs, da, de, en, es, fr, id, it, hu, nl, no, pl, pt, ro, sk, fi, sv, tr, vi, th, bg, ru, el, ja, ko, zh, uk',\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: '99',\n  });\n  const url = `${BASE_URL}?${parameters}`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.error(error);\n      throw new Error('Failed to fetch images. Please try again.');\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n});\n\nexport function renderImages(data) {\n  const galleryImages = document.querySelector('.gallery');\n  const galleryMarkup = data\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img\n              src=\"${webformatURL}\"\n              data-source=\"${largeImageURL}\"\n              alt=\"${tags}\"\n            />\n            <ul class=\"gallery-description\">\n              <li class=\"gallery-dscr_item\"><h3>Likes</h3><p>${likes}</p></li>\n              <li class=\"gallery-dscr_item\"><h3>Views</h3><p>${views}</p></li>\n              <li class=\"gallery-dscr_item\"><h3>Comments</h3><p>${comments}</p></li>\n              <li class=\"gallery-dscr_item\"><h3>Downloads</h3><p>${downloads}</p></li>\n            </ul>\n          </a>\n        </li>`;\n      }\n    )\n    .join('');\n\n  galleryImages.innerHTML = galleryMarkup;\n\n  lightbox.refresh();\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { getImage } from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\n\nconst searchForm = document.querySelector('.form');\nconst galleryImages = document.querySelector('.gallery');\nconst loadMove = document.querySelector('.loader');\nloadMove.style.display = 'none';\n\nsearchForm.addEventListener('submit', async event => {\n  event.preventDefault();\n  galleryImages.innerHTML = '';\n  const query = event.target.elements.search.value.trim();\n\n  if (query) {\n    loadMove.style.display = 'flex';\n\n    try {\n      const data = await getImage(query);\n      if (!data.hits.length) {\n        iziToast.error({\n          message: 'Sorry, there are no images matching your search query. Please, try again!',\n          close: true,\n        });\n      }\n      renderImages(data.hits);\n    } catch (error) {\n      console.error(error.message);\n      iziToast.error({\n        message: 'Failed to fetch images. Please try again.',\n        close: true,\n      });\n    } finally {\n      loadMove.style.display = 'none';\n    }\n  }\n  event.target.reset();\n});\n"],"names":["getImage","query","BASE_URL","parameters","url","response","error","lightbox","SimpleLightbox","renderImages","data","galleryImages","galleryMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","loadMove","event","iziToast"],"mappings":"uDAAO,SAASA,EAASC,EAAO,CAC9B,MAAMC,EAAW,2BACXC,EAAa,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGF,EACH,KAAM,6GACN,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,IACd,CAAG,EACKG,EAAM,GAAGF,CAAQ,IAAIC,CAAU,GAErC,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,cAAQ,MAAMA,CAAK,EACb,IAAI,MAAM,2CAA2C,CACjE,CAAK,CACL,CCrBA,MAAMC,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,KAChB,CAAC,EAEM,SAASC,EAAaC,EAAM,CACjC,MAAMC,EAAgB,SAAS,cAAc,UAAU,EACjDC,EAAgBF,EACnB,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,0CAC2BL,CAAa;AAAA;AAAA,qBAElCD,CAAY;AAAA,6BACJC,CAAa;AAAA,qBACrBC,CAAI;AAAA;AAAA;AAAA,+DAGsCC,CAAK;AAAA,+DACLC,CAAK;AAAA,kEACFC,CAAQ;AAAA,mEACPC,CAAS;AAAA;AAAA;AAAA,cAKvE,EACA,KAAK,EAAE,EAEVR,EAAc,UAAYC,EAE1BL,EAAS,QAAO,CAClB,CCrCA,MAAMa,EAAa,SAAS,cAAc,OAAO,EAC3CT,EAAgB,SAAS,cAAc,UAAU,EACjDU,EAAW,SAAS,cAAc,SAAS,EACjDA,EAAS,MAAM,QAAU,OAEzBD,EAAW,iBAAiB,SAAU,MAAME,GAAS,CACnDA,EAAM,eAAc,EACpBX,EAAc,UAAY,GAC1B,MAAMV,EAAQqB,EAAM,OAAO,SAAS,OAAO,MAAM,OAEjD,GAAIrB,EAAO,CACToB,EAAS,MAAM,QAAU,OAEzB,GAAI,CACF,MAAMX,EAAO,MAAMV,EAASC,CAAK,EAC5BS,EAAK,KAAK,QACba,EAAS,MAAM,CACb,QAAS,4EACT,MAAO,EACjB,CAAS,EAEHd,EAAaC,EAAK,IAAI,CACvB,OAAQJ,EAAO,CACd,QAAQ,MAAMA,EAAM,OAAO,EAC3BiB,EAAS,MAAM,CACb,QAAS,4CACT,MAAO,EACf,CAAO,CACP,QAAc,CACRF,EAAS,MAAM,QAAU,MAC1B,CACF,CACDC,EAAM,OAAO,OACf,CAAC"}